<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Six Pro - ÿßŸÑÿ®ÿØÿßŸäÿ©</title>
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéØ</text></svg>">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Six Pro">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind Config for custom theme colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Tajawal', 'sans-serif'],
                    },
                    colors: {
                        'primary': {
                            50: '#f0f4ff',
                            100: '#e0e7ff',
                            200: '#c7d2fe',
                            300: '#a5b4fc',
                            400: '#818cf8',
                            500: '#667eea',
                            600: '#4f46e5',
                            700: '#4338ca',
                            800: '#3730a3',
                            900: '#312e81',
                        },
                        'secondary': {
                            50: '#f0f1f9',
                            100: '#e0e1f0',
                            200: '#c8cbe6',
                            300: '#a9afda',
                            400: '#8a93ce',
                            500: '#764ba2',
                            600: '#6b4193',
                            700: '#5a377a',
                            800: '#492d60',
                            900: '#382447',
                        },
                        'glass': {
                            DEFAULT: 'rgba(255, 255, 255, 0.1)',
                            'border': 'rgba(255, 255, 255, 0.2)',
                        }
                    },
                    borderRadius: {
                        'xl': '0.75rem',
                        '2xl': '1rem',
                        '3xl': '1.5rem',
                    },
                    boxShadow: {
                        'glass': '0 4px 30px rgba(0, 0, 0, 0.1)',
                        'glass-hover': '0 20px 40px rgba(0, 0, 0, 0.2), 0 4px 20px rgba(102, 126, 234, 0.6), 0 6px 30px rgba(118, 75, 162, 0.4)',
                        'button-hover': '0 0 15px rgba(102, 126, 234, 0.7)',
                    },
                    animation: {
                        'gradient-shift': 'gradientShift 12s ease infinite',
                        'scale-click': 'scaleClick 0.2s ease-in-out forwards',
                        'fade-click': 'fadeClick 0.2s ease-in-out forwards',
                    },
                    keyframes: {
                        gradientShift: {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        },
                        scaleClick: {
                            '0%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(0.95)' },
                            '100%': { transform: 'scale(1)' },
                        },
                        fadeClick: {
                            '0%': { opacity: '0.8' },
                            '50%': { opacity: '0.6' },
                            '100%': { opacity: '0.8' },
                        }
                    }
                }
            }
        }
    </script>
    <!-- Custom CSS -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap');

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(-45deg, #667eea, #764ba2, #6B8DD6, #8E37D7);
            background-size: 400% 400%;
            animation: gradientShift 12s ease infinite;
            min-height: 100vh; /* Ensure full height */
            overflow-x: hidden;
            position: relative;
        }

        .glass-card {
            background: theme('colors.glass.DEFAULT');
            backdrop-filter: blur(10px);
            border: 1px solid theme('colors.glass.border');
            transition: all 0.3s ease;
            box-shadow: theme('boxShadow.glass');
        }

        .hover-lift {
            transition: all 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-8px);
        }

        .card-hover-glow:hover {
            box-shadow: theme('boxShadow.glass-hover');
        }

        .button-hover-glow:hover {
            box-shadow: theme('boxShadow.button-hover');
        }

        .sticker {
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: theme('borderRadius.xl');
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .sticker:hover {
            transform: scale(1.05);
            box-shadow: theme('boxShadow.glass-hover');
        }

        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            overscroll-behavior: none;
            touch-action: manipulation;
        }

        #bubbleContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
        }

        @media (max-width: 640px) {
            #stickersSection {
                padding: 0 1rem;
            }
            .sticker {
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }
        }

        /* New: Bottom Navigation Styles */
        .nav-item {
            transition: color 0.2s ease, transform 0.2s ease, opacity 0.2s ease;
        }

        .nav-item.active {
            color: theme('colors.white');
        }

        .nav-item:active {
            animation: scale-click 0.2s ease-in-out forwards, fade-click 0.2s ease-in-out forwards;
        }

        /* Content Area Styling */
        .main-content {
            padding-bottom: 80px; /* Space for fixed nav bar */
        }
    </style>
    <!-- Feather Icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body class="min-h-screen overflow-x-hidden relative">
    <!-- Dynamic Bubble Background Container -->
    <div id="bubbleContainer"></div>

    <header class="relative z-10 p-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3 space-x-reverse">
                <div class="w-16 h-16 rounded-full overflow-hidden shadow-lg button-hover-glow" title="ÿ¥ÿπÿßÿ± ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ">
                    <img src="https://imgur.com/1l3hICE.jpg" alt="Logo" class="w-full h-full object-cover">
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-white">Six Pro</h1>
                    <p class="text-purple-200 text-sm">ÿßŸÑŸÜÿ¨ÿßÿ≠ ŸÖŸÜ ÿßŸÑÿ®ÿØÿßŸäÿ©</p>
                </div>
            </div>
            <button id="settingsBtn" class="glass-card rounded-full p-3 hover-lift button-hover-glow" title="ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™">
                <i data-feather="settings" class="w-5 h-5 text-white"></i>
            </button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="mainContent" class="relative z-10 max-w-6xl mx-auto px-6 py-8 main-content">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-white mb-4">ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÅŸä Six Pro</h2>
            <p class="text-xl text-purple-100">ŸÖŸÜÿµÿ™ŸÉ ÿßŸÑÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÜÿ¨ÿßÿ≠ ŸÅŸä ÿßŸÑÿµŸÅ ÿßŸÑÿ≥ÿßÿØÿ≥ ÿßŸÑÿπŸÑŸÖŸä</p>
        </div>

        <!-- Stickers Section -->
        <div id="stickersSection" class="mb-12">
            <h3 class="text-2xl font-bold text-white mb-4 text-center">ŸÖŸÖŸäÿ≤ÿßÿ™ Six Pro</h3>
            <div class="flex flex-wrap justify-center gap-4">
                <div class="sticker glass-card rounded-xl p-3 flex items-center">
                    <i data-feather="zap" class="w-5 h-5 text-yellow-300 mr-2"></i>
                    <span class="text-white text-sm">ÿ≥ÿ±ÿπÿ© Ÿàÿ≥ŸÑÿßÿ≥ÿ©</span>
                </div>
                <div class="sticker glass-card rounded-xl p-3 flex items-center">
                    <i data-feather="layers" class="w-5 h-5 text-green-300 mr-2"></i>
                    <span class="text-white text-sm">Ÿàÿßÿ¨Ÿáÿ© ÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ©</span>
                </div>
                <div class="sticker glass-card rounded-xl p-3 flex items-center">
                    <i data-feather="activity" class="w-5 h-5 text-blue-300 mr-2"></i>
                    <span class="text-white text-sm">ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿØŸÇŸäŸÇÿ©</span>
                </div>
                <div class="sticker glass-card rounded-xl p-3 flex items-center">
                    <i data-feather="bell" class="w-5 h-5 text-red-300 mr-2"></i>
                    <span class="text-white text-sm">ÿ™ŸÜÿ®ŸäŸáÿßÿ™ ŸÅŸàÿ±Ÿäÿ©</span>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            <a href="tasks.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸäŸàŸÖŸäÿ©" data-href="tasks.html" title="ÿ•ÿØÿßÿ±ÿ© ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑÿØÿ±ÿßÿ≥Ÿäÿ© ÿßŸÑŸäŸàŸÖŸäÿ©">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-pink-400 to-pink-600 rounded-2xl flex items-center justify-center">
                        <i data-feather="check-circle" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑŸäŸàŸÖŸäÿ©</h3>
                <p class="text-purple-100 text-sm">ŸÜÿ∏ŸÖ ŸÖŸáÿßŸÖŸÉ ÿßŸÑÿØÿ±ÿßÿ≥Ÿäÿ© Ÿàÿ™ÿßÿ®ÿπ ÿ™ŸÇÿØŸÖŸÉ ÿßŸÑŸäŸàŸÖŸä</p>
            </a>

            <a href="math.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿßÿ™" data-href="math.html" title="ÿ™ÿπŸÑŸÖ Ÿàÿ™ÿØÿ±ÿ® ÿπŸÑŸâ ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿßÿ™">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center">
                        <i data-feather="calculator" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿßÿ™</h3>
                <p class="text-purple-100 text-sm">ÿ™ÿπŸÑŸÖ Ÿàÿ™ÿØÿ±ÿ® ÿπŸÑŸâ ÿ¨ÿØÿßŸàŸÑ ÿßŸÑÿ∂ÿ±ÿ® ŸàÿßŸÑÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ≠ÿ≥ÿßÿ®Ÿäÿ©</p>
            </a>

            <a href="english.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑÿ•ŸÜŸÉŸÑŸäÿ≤Ÿä" data-href="english.html" title="ÿ™ÿπŸÑŸÖ ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl flex items-center justify-center">
                        <i data-feather="book-open" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑÿ•ŸÜŸÉŸÑŸäÿ≤Ÿä</h3>
                <p class="text-purple-100 text-sm">ÿ™ÿπŸÑŸÖ ÿßŸÑÿ£ŸÅÿπÿßŸÑ ÿßŸÑÿ¥ÿßÿ∞ÿ© ŸàÿßŸÑŸÖŸÅÿ±ÿØÿßÿ™ ÿßŸÑÿ¨ÿØŸäÿØÿ©</p>
            </a>

            <a href="schedule.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑÿ¨ÿØŸàŸÑ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä" data-href="schedule.html" title="ÿ¨ÿØŸàŸÑŸÉ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center">
                        <i data-feather="calendar" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑÿ¨ÿØŸàŸÑ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä</h3>
                <p class="text-purple-100 text-sm">ŸÜÿ∏ŸÖ ŸàŸÇÿ™ŸÉ ŸàÿÆŸÑŸëŸä ÿßŸÑÿ≥ÿßÿØÿ≥ ÿßŸÑÿπŸÑŸÖŸä ÿ®ÿØÿßŸäÿ© ŸÜÿ¨ÿßÿ≠ŸÉ</p>
            </a>

            <a href="stats.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™" data-href="stats.html" title="ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿ™ŸÇÿØŸÖŸÉ">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center">
                        <i data-feather="trending-up" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™</h3>
                <p class="text-purple-100 text-sm">ÿ™ÿßÿ®ÿπ ÿ™ŸÇÿØŸÖŸÉ Ÿàÿ™ÿ≠ÿ≥ŸÜŸÉ ŸÅŸä ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸàÿßÿØ</p>
            </a>

            <a href="profile.html" class="glass-card rounded-2xl p-6 hover-lift group card-hover-glow btn-link" data-title="ÿßŸÑÿßÿπÿØÿßÿØÿßÿ™" data-href="profile.html" title="ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ŸàÿßŸÑÿ≠ÿ≥ÿßÿ®">
                <div class="flex items-center justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-2xl flex items-center justify-center">
                        <i data-feather="user" class="w-7 h-7 text-white"></i>
                    </div>
                    <i data-feather="arrow-left" class="w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">ÿßŸÑÿßÿπÿØÿßÿØÿßÿ™</h3>
                <p class="text-purple-100 text-sm">ÿ•ÿØÿßÿ±ÿ© ÿ≠ÿ≥ÿßÿ®ŸÉ ŸàŸÖÿπŸÑŸàŸÖÿßÿ™ŸÉ ÿßŸÑÿ¥ÿÆÿµŸäÿ©</p>
            </a>
        </div>

        <!-- Notification Button -->
        <div class="text-center">
            <button id="notificationBtn" class="glass-card rounded-full p-4 hover-lift button-hover-glow inline-flex items-center">
                <i data-feather="bell" class="w-6 h-6 text-white mr-2"></i>
                <span class="text-white font-medium">ÿ∑ŸÑÿ® ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™</span>
            </button>
        </div>
    </main>

    <!-- Updated Bottom Navigation Bar with 5 items -->
    <nav class="fixed bottom-0 left-0 right-0 z-20 glass-card rounded-t-3xl">
        <div class="max-w-6xl mx-auto px-4 py-3">
            <div class="flex justify-around items-center">
                <!-- Updated href to point to actual pages -->
                <a href="index.html" class="nav-item flex flex-col items-center space-y-1 text-white button-hover-glow btn-nav active" data-section="home" data-title="ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©" title="ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©">
                    <i data-feather="home" class="w-6 h-6"></i>
                    <span class="text-xs">ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</span>
                </a>
                <a href="tasks.html" class="nav-item flex flex-col items-center space-y-1 text-purple-200 button-hover-glow btn-nav" data-section="tasks" data-title="ÿßŸÑŸÖŸáÿßŸÖ" title="ÿßŸÑŸÖŸáÿßŸÖ">
                    <i data-feather="check-square" class="w-6 h-6"></i>
                    <span class="text-xs">ÿßŸÑŸÖŸáÿßŸÖ</span>
                </a>
                <a href="stats.html" class="nav-item flex flex-col items-center space-y-1 text-purple-200 button-hover-glow btn-nav" data-section="stats" data-title="ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™" title="ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™">
                    <i data-feather="bar-chart-2" class="w-6 h-6"></i>
                    <span class="text-xs">ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™</span>
                </a>
                <a href="notifications.html" class="nav-item flex flex-col items-center space-y-1 text-purple-200 button-hover-glow btn-nav" data-section="notifications" data-title="ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™" title="ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™">
                    <i data-feather="bell" class="w-6 h-6"></i>
                    <span class="text-xs">ÿßŸÑÿ™ŸÜÿ®ŸäŸáÿßÿ™</span>
                </a>
                <a href="profile.html" class="nav-item flex flex-col items-center space-y-1 text-purple-200 button-hover-glow btn-nav" data-section="profile" data-title="ÿßŸÑÿßÿπÿØÿßÿØÿßÿ™" title="ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™">
                    <i data-feather="user" class="w-6 h-6"></i>
                    <span class="text-xs">ÿßŸÑÿßÿπÿØÿßÿØÿßÿ™</span>
                </a>
            </div>
        </div>
    </nav>

    <button id="installBtn" class="fixed bottom-24 right-5 bg-white text-primary-500 border-none p-3 rounded-xl font-semibold shadow-lg z-30 transition-shadow duration-200 button-hover-glow hidden" title="ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿπŸÑŸâ ÿ¨Ÿáÿßÿ≤ŸÉ">üì± ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ</button>

    <script>
        // --- Dynamic Bubble Background Logic ---
        function createBubble() {
            const container = document.getElementById('bubbleContainer');
            if (!container) return;

            const bubble = document.createElement('div');
            bubble.classList.add('bubble');

            const size = Math.random() * 60 + 10;
            const posX = Math.random() * window.innerWidth;
            const posY = window.innerHeight;

            bubble.style.width = `${size}px`;
            bubble.style.height = `${size}px`;
            bubble.style.left = `${posX}px`;
            bubble.style.top = `${posY}px`;

            const opacity = Math.random() * 0.4 + 0.1;
            bubble.style.opacity = opacity;

            container.appendChild(bubble);

            const duration = Math.random() * 15 + 10;
            const moveX = (Math.random() - 0.5) * 100;

            const animation = bubble.animate([
                { top: `${posY}px`, transform: `translateX(0)` },
                { top: `${-size}px`, transform: `translateX(${moveX}px)` }
            ], {
                duration: duration * 1000,
                easing: 'cubic-bezier(0.1, 0.8, 0.2, 1)'
            });

            animation.onfinish = () => {
                if (bubble.parentNode) {
                    bubble.parentNode.removeChild(bubble);
                }
            };
        }

        function initializeBubbles() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => createBubble(), i * 300);
            }

            const bubbleInterval = setInterval(() => {
                if (document.hidden) return;
                createBubble();
            }, 1000);
        }

        // --- Main Application Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Feather Icons
            feather.replace();

            // Initialize Bubbles
            initializeBubbles();

            // --- NEW: Update Active Navigation Item Based on Current Page ---
            function updateActiveNavItem() {
                // Get the current page name from the URL
                const currentPage = window.location.pathname.split('/').pop().toLowerCase();

                // Define a mapping between page names and nav items
                const pageToNavItem = {
                    'index.html': 'home',
                    'tasks.html': 'tasks',
                    'stats.html': 'stats',
                    'notifications.html': 'notifications',
                    'profile.html': 'profile',
                    'math.html': 'math',
                    'english.html': 'english',
                    'schedule.html': 'schedule',
                };

                const sectionName = pageToNavItem[currentPage];

                if (sectionName) {
                    // Remove 'active' class from all nav items
                    document.querySelectorAll('.nav-item').forEach(item => {
                        item.classList.remove('active');
                        item.classList.remove('text-white');
                        item.classList.add('text-purple-200');
                    });

                    // Find the nav item corresponding to the current page and add 'active' class
                    const activeItem = document.querySelector(`.btn-nav[data-section="${sectionName}"]`);
                    if (activeItem) {
                        activeItem.classList.add('active');
                        activeItem.classList.remove('text-purple-200');
                        activeItem.classList.add('text-white');
                    }
                }
            }

            // Call the function on page load
            updateActiveNavItem();

            // --- NEW: Handle Bottom Navigation Clicks (Second Phase) ---
            // Note: We don't prevent default navigation here, allowing the link to follow its href.
            // The updateActiveNavItem function will run again on the destination page.
            document.querySelectorAll('.btn-nav').forEach(button => {
                button.addEventListener('click', function(event) {
                    // Allow default navigation to occur (page will reload)
                    // event.preventDefault(); // Keep this commented out to allow navigation

                    const title = this.getAttribute('data-title');
                    const href = this.getAttribute('href');
                    console.log(`Navigating to: ${href} (Title: ${title})`); // Log for clarity
                    // The page will naturally reload and updateActiveNavItem() will run again on the new page
                });
            });

            // --- NEW: Section Content Management (Preparation for Third Phase) ---
            // In a real SPA, you would have functions to load and display different sections here.
            // For example:
            // function loadSection(sectionId) { ... }

            // --- Scroll Animation ---
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        entry.target.style.boxShadow = '0 0 5px rgba(255, 255, 255, 0.3)';
                        setTimeout(() => {
                            entry.target.style.boxShadow = '';
                        }, 500);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.glass-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.6s ease, box-shadow 0.2s ease';
                observer.observe(card);
            });

            // --- NEW: Add click listeners to main content buttons (Preparation for Third Phase) ---
            // Note: We don't prevent default navigation here, allowing the link to follow its href.
            document.querySelectorAll('.btn-link').forEach(button => {
                button.addEventListener('click', function(event) {
                    // Allow default navigation to occur (page will reload)
                    // event.preventDefault(); // Keep this commented out to allow navigation

                    const title = this.getAttribute('data-title');
                    const href = this.getAttribute('data-href');
                    console.log(`Clicked on main content button: ${title}, intended destination: ${href}`); // Log for clarity
                    // The page will naturally reload
                });
            });

            // --- PWA Installation ---
            let deferredPrompt;
            const installBtn = document.getElementById('installBtn');

            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                if (deferredPrompt) {
                    installBtn.style.display = 'block';
                }
            });

            installBtn.addEventListener('click', async () => {
                if (deferredPrompt) {
                    installBtn.style.display = 'none';
                    deferredPrompt.prompt();
                    const choice = await deferredPrompt.userChoice;
                    if (choice.outcome === 'accepted') {
                        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ´ÿ®Ÿäÿ™ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ');
                    } else {
                        console.log('‚ùå ÿ™ŸÖ ÿ•ŸÑÿ∫ÿßÿ° ÿßŸÑÿ™ÿ´ÿ®Ÿäÿ™');
                    }
                    deferredPrompt = null;
                }
            });

            // --- Notifications ---
            const notificationBtn = document.getElementById('notificationBtn');
            if ('Notification' in window) {
                if (Notification.permission === 'granted') {
                    console.log('Notifications already enabled');
                    if (notificationBtn) notificationBtn.disabled = true;
                } else if (Notification.permission === 'default') {
                    console.log('Notifications permission is default');
                    if (notificationBtn) notificationBtn.disabled = false;
                } else {
                    console.log('Notifications are blocked');
                    if (notificationBtn) notificationBtn.disabled = true;
                }

                if (notificationBtn) {
                    notificationBtn.addEventListener('click', () => {
                        Notification.requestPermission().then(permission => {
                            if (permission === 'granted') {
                                console.log('Notifications enabled');
                                notificationBtn.disabled = true;
                            } else {
                                console.log('Notifications not granted');
                            }
                        });
                    });
                }
            } else {
                console.log('Notifications not supported in this browser');
                if (notificationBtn) notificationBtn.disabled = true;
            }

            // --- Settings Button ---
            const settingsBtn = document.getElementById('settingsBtn');
            if (settingsBtn) {
                settingsBtn.addEventListener('click', () => {
                    console.log('Settings clicked!');
                    // Example: Open a settings modal or navigate
                });
            }

            // --- Register Service Worker ---
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('‚úÖ Service Worker Registered'))
                    .catch(err => console.log('‚ùå Registration Failed:', err));
            }
        });

        function showNotification(title, body) {
            if (Notification.permission === 'granted') {
                new Notification(title, {
                    body: body,
                    icon: 'https://imgur.com/1l3hICE.jpg'
                });
            }
        }
    </script>
</body>
</html>
